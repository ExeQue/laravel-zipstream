
   PASS  Tests\Feature\FacadeTest
  ✓ ExeQue\ZipStream\Facades\Zip → it accesses the builder                          0.05s
  ✓ ExeQue\ZipStream\Facades\Zip → it does not resolve a singleton
   FAIL  Tests\Unit\BuilderTest
  ⨯ ExeQue\ZipStream\Builder → it can set the filename
  ⨯ ExeQue\ZipStream\Builder → it automatically adds .zip extension if missing
  ⨯ ExeQue\ZipStream\Builder → it can add content via add()
  ⨯ ExeQue\ZipStream\Builder → it can add content from disk
  ⨯ ExeQue\ZipStream\Builder → it can add content from disk using default destination
  ⨯ ExeQue\ZipStream\Builder → it can add content from local path using default destination
  ⨯ ExeQue\ZipStream\Builder → it can add content from local path
  ⨯ ExeQue\ZipStream\Builder → it can add content from string
  ⨯ ExeQue\ZipStream\Builder → it can add empty directory
  ⨯ ExeQue\ZipStream\Builder → it can set ZIP options fluently
  ⨯ ExeQue\ZipStream\Builder → it can use store() and deflate() shortcuts
  ⨯ ExeQue\ZipStream\Builder → it can use zeroHeader shortcuts
  ⨯ ExeQue\ZipStream\Builder → it can output as string
  ⨯ ExeQue\ZipStream\Builder → it can output as stream
  ⨯ ExeQue\ZipStream\Builder → it can save to local path
  ⨯ ExeQue\ZipStream\Builder → it can save to disk
  ⨯ ExeQue\ZipStream\Builder → it can return a response
   PASS  Tests\Unit\Content\DirectoryTest
  ✓ ExeQue\ZipStream\Content\Directory → Implements interfaces                      0.03s
  ✓ ExeQue\ZipStream\Content\Directory → Uses traits
  ✓ ExeQue\ZipStream\Content\Directory → it sets the destination
  ✓ ExeQue\ZipStream\Content\Directory → it can change the destination
  ✓ ExeQue\ZipStream\Content\Directory → it can set the comment
  ✓ ExeQue\ZipStream\Content\Directory → it can set the last modified timestamp with dataset "epoch"
  ✓ ExeQue\ZipStream\Content\Directory → it can set the last modified timestamp with dataset "string 1"
  ✓ ExeQue\ZipStream\Content\Directory → it can set the last modified timestamp with dataset "string 2"
  ✓ ExeQue\ZipStream\Content\Directory → it can set the last modified timestamp with dataset "datetime"
   PASS  Tests\Unit\Content\DiskFileTest
  ✓ ExeQue\ZipStream\Content\DiskFile → Implements interfaces                       0.01s
  ✓ ExeQue\ZipStream\Content\DiskFile → Uses traits
  ✓ ExeQue\ZipStream\Content\DiskFile → it sets the destination based on source if omitted
  ✓ ExeQue\ZipStream\Content\DiskFile → it uses the given destination
  ✓ ExeQue\ZipStream\Content\DiskFile → it verifies the source path with dataset "non existent file"
  ✓ ExeQue\ZipStream\Content\DiskFile → it verifies the source path with dataset "existing directory"
  ✓ ExeQue\ZipStream\Content\DiskFile → it verifies the source path with dataset "existing file"
  ✓ ExeQue\ZipStream\Content\DiskFile → it returns a stream resource
  ✓ ExeQue\ZipStream\Content\DiskFile → it can change destination
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the comment
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the compression method with dataset "store"
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the compression method with dataset "deflate"
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the compression method (store)
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the compression method (deflate)
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the deflate level
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the last modified timestamp with dataset "epoch"
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the last modified timestamp with dataset "string 1"
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the last modified timestamp with dataset "string 2"
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the last modified timestamp with dataset "datetime"
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the zero header with dataset "true"
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the zero header with dataset "false"
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the zero header with dataset "null"
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the zero header (withZeroHeader)
  ✓ ExeQue\ZipStream\Content\DiskFile → it can set the zero header (withoutZeroHeader)
  ✓ ExeQue\ZipStream\Content\DiskFile → it can get the file options
   PASS  Tests\Unit\Content\LocalFileTest
  ✓ ExeQue\ZipStream\Content\LocalFile → Implements interfaces                      0.01s
  ✓ ExeQue\ZipStream\Content\LocalFile → Uses traits
  ✓ ExeQue\ZipStream\Content\LocalFile → it sets the destination based on source if omitted
  ✓ ExeQue\ZipStream\Content\LocalFile → it uses the given destination
  ✓ ExeQue\ZipStream\Content\LocalFile → it verifies the source path with dataset "non existent file"
  ✓ ExeQue\ZipStream\Content\LocalFile → it verifies the source path with dataset "existing directory"
  ✓ ExeQue\ZipStream\Content\LocalFile → it verifies the source path with dataset "existing file"
  ✓ ExeQue\ZipStream\Content\LocalFile → it returns a stream resource
  ✓ ExeQue\ZipStream\Content\LocalFile → it can change destination
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the comment
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the compression method with dataset "store"
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the compression method with dataset "deflate"
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the compression method (store)
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the compression method (deflate)
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the deflate level
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the last modified timestamp with dataset "epoch"
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the last modified timestamp with dataset "string 1"
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the last modified timestamp with dataset "string 2"
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the last modified timestamp with dataset "datetime"
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the zero header with dataset "true"
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the zero header with dataset "false"
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the zero header with dataset "null"
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the zero header (withZeroHeader)
  ✓ ExeQue\ZipStream\Content\LocalFile → it can set the zero header (withoutZeroHeader)
  ✓ ExeQue\ZipStream\Content\LocalFile → it can get the file options
   PASS  Tests\Unit\Content\RawTest
  ✓ ExeQue\ZipStream\Content\Raw → Implements interfaces                            0.01s
  ✓ ExeQue\ZipStream\Content\Raw → Uses traits
  ✓ ExeQue\ZipStream\Content\Raw → it sets the destination and content
  ✓ ExeQue\ZipStream\Content\Raw → it returns the given content as stream with dataset "string"
  ✓ ExeQue\ZipStream\Content\Raw → it returns the given content as stream with dataset "resource"
  ✓ ExeQue\ZipStream\Content\Raw → it returns the given content as stream with dataset "callable"
  ✓ ExeQue\ZipStream\Content\Raw → it returns the given content as stream with dataset "stream interface"
  ✓ ExeQue\ZipStream\Content\Raw → it verifies valid content types with dataset "string"
  ✓ ExeQue\ZipStream\Content\Raw → it verifies valid content types with dataset "resource"
  ✓ ExeQue\ZipStream\Content\Raw → it verifies valid content types with dataset "callable"
  ✓ ExeQue\ZipStream\Content\Raw → it verifies valid content types with dataset "stream interface"
  ✓ ExeQue\ZipStream\Content\Raw → it throws UnsupportedInputException for invalid content types with dataset "array"
  ✓ ExeQue\ZipStream\Content\Raw → it throws UnsupportedInputException for invalid content types with dataset "object"
  ✓ ExeQue\ZipStream\Content\Raw → it throws UnsupportedInputException for invalid content types with dataset "int"
  ✓ ExeQue\ZipStream\Content\Raw → it throws UnsupportedInputException for invalid… 0.01s
  ✓ ExeQue\ZipStream\Content\Raw → it throws UnsupportedInputException for invalid content types with dataset "null"
  ✓ ExeQue\ZipStream\Content\Raw → it can change destination
  ✓ ExeQue\ZipStream\Content\Raw → it can set the comment
  ✓ ExeQue\ZipStream\Content\Raw → it can set the compression method with dataset "store"
  ✓ ExeQue\ZipStream\Content\Raw → it can set the compression method with dataset "deflate"
  ✓ ExeQue\ZipStream\Content\Raw → it can set the compression method (store)
  ✓ ExeQue\ZipStream\Content\Raw → it can set the compression method (deflate)
  ✓ ExeQue\ZipStream\Content\Raw → it can set the deflate level
  ✓ ExeQue\ZipStream\Content\Raw → it can set the last modified timestamp with dataset "epoch"
  ✓ ExeQue\ZipStream\Content\Raw → it can set the last modified timestamp with dataset "string 1"
  ✓ ExeQue\ZipStream\Content\Raw → it can set the last modified timestamp with dataset "string 2"
  ✓ ExeQue\ZipStream\Content\Raw → it can set the last modified timestamp with dataset "datetime"
  ✓ ExeQue\ZipStream\Content\Raw → it can set the zero header with dataset "true"
  ✓ ExeQue\ZipStream\Content\Raw → it can set the zero header with dataset "false"
  ✓ ExeQue\ZipStream\Content\Raw → it can set the zero header with dataset "null"
  ✓ ExeQue\ZipStream\Content\Raw → it can set the zero header (withZeroHeader)
  ✓ ExeQue\ZipStream\Content\Raw → it can set the zero header (withoutZeroHeader)
  ✓ ExeQue\ZipStream\Content\Raw → it can get the file options
   PASS  Tests\Unit\FileOptionsTest
  ✓ ExeQue\ZipStream\Contracts\HasFileOptions → Extends interfaces                  0.01s
   PASS  Tests\Unit\Options\ZipOptionsTest
  ✓ ExeQue\ZipStream\Options\ZipOptions → it can get a default instance             0.01s
  ✓ ExeQue\ZipStream\Options\ZipOptions → it returns a clone each time ZipOptions::default() is called
  ✓ ExeQue\ZipStream\Options\ZipOptions → it has properties matching ZipStream constructor defaults when config is empty
  ✓ ExeQue\ZipStream\Options\ZipOptions → it respects compression method from config
  ✓ ExeQue\ZipStream\Options\ZipOptions → it respects deflate level from config
  ✓ ExeQue\ZipStream\Options\ZipOptions → it respects zero header from config
   PASS  Tests\Unit\PendingTest
  ✓ ExeQue\ZipStream\Pending → it can add a StreamableToZip entry                   0.01s
  ✓ ExeQue\ZipStream\Pending → it can add a Directory entry
  ✓ ExeQue\ZipStream\Pending → it can add a CanStreamToZip entry
  ✓ ExeQue\ZipStream\Pending → it can add multiple entries from CanStreamToZip
  ✓ ExeQue\ZipStream\Pending → it verifies entry if it implements Verifiable
  ✓ ExeQue\ZipStream\Pending → it processes directory entries
  ✓ ExeQue\ZipStream\Pending → it processes file entries
  ✓ ExeQue\ZipStream\Pending → it processes file entries with options
  ✓ ExeQue\ZipStream\Pending → it can handle recursive CanStreamToZip entries
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  ───────────────────────────────────────────────────────────────────────────────────────
   FAILED  Tests\Unit\BuilderTest > `ExeQue\ZipStream\Builder`…   BadMethodCallException
  Received Mockery_1_Illuminate_Contracts_Config_Repository::get(), but no expectations were specified
  at src/Options/ZipOptions.php:40
     36▕     }
     37▕
     38▕     private function applyDefaultCompressionMethod(Repository $config, mixed $default): void
     39▕     {
  ➜  40▕         $default = $config->get('laravel-zipstream.default_compression_method', $default);
     41▕
     42▕         if (is_null($default)) {
     43▕             return;
     44▕         }
  1   src/Options/ZipOptions.php:40
  2   src/Options/ZipOptions.php:33
  Tests:    17 failed, 110 passed (132 assertions)
  Duration: 0.59s
